{{define "body"}}
<div class="mdui-container px-3 my-5">
  <p class="mdui-text-center">
    <font size="6"><a href="/curseforge" style="text-decoration: none; color: #000;"><b>CurseForge</b> 搜索</a></font>
    {{template "search" .}}
    <br />
    <!--标题-->
    {{if .WebsiteURL}}
  <h1 class="mdui-typo"><a href="{{ .WebsiteURL}}" target="_blank" rel="noopener noreferrer">{{.Name}}</a></h1>
  {{else}}
  <h1>
    <font size="6">{{.Name}}</font>
    <font size="4"> 的搜索结果</font>
  </h1>
  {{end}}
  <!--内容-->
  {{if .Table}}
  <div class="mdui-table-fluid">
    <table class="mdui-table mdui-table-hoverable mdui-typo">
      <tbody id="tb">
        <tr>
          {{range .Tr}}<th>{{.}}</th>{{end}}
        </tr>
        {{range .List}}<tr>
          {{range .TdList}}<td>{{.}}</td>{{end}}
        </tr>{{end}}
      </tbody>
    </table>
  </div>
  {{else}}
  <template id="card">
    <a href="link" style="text-decoration: none">
      <div class="mdui-card mdui-hoverable" style="border-radius: 10px;">
        <div class="mdui-card-primary mdui-ripple" style="padding-top: 16px">
          <div class="mdui-card-primary-title">
            <h3 class="mdui-typo mdui-text-color-theme-accent">Title</h3>
          </div>
          <div class="mdui-card-primary-subtitle">
            <p class="mdui-typo">Txt</p>
          </div>
        </div>
      </div>
    </a>
  </template>

  <script>
    window.addEventListener('load', function () {
      class card extends HTMLElement {
        constructor() {
          super();
          let content = document.getElementById('card').content.cloneNode(true)
          this.appendChild(content)
        }
        up() {
          this.querySelector('a').href = this.getAttribute('href')
          this.querySelector('h3').innerText = this.getAttribute('h3')
          this.querySelector('p').innerText = this.getAttribute('info')
        }

        connectedCallback() {
          this.up()
        }

        attributeChangedCallback(name, oldValue, newValue) {
          this.up()
        }

        static get observedAttributes() {
          return ['href', 'h3', 'info']
        }
      }
      customElements.define('card-info', card)
    })
  </script>

  <div
    style="display: grid; grid-template-columns: repeat(auto-fill, minmax(20em, 1fr)); grid-gap: 15px; align-items: center;">
    {{range .List}}
    <card-info href="{{ .Link}}" h3="{{ .Title}}" info="{{ .Txt}}"></card-info>
    {{end}}
  </div>
  {{end}}
  {{if .T}}
  <br />
  <a href="{{ .Link}}" class="mdui-btn mdui-ripple mdui-center mdui-hoverable" style="border-radius: 10px;">
    <font size="4" class="mdui-text-color-theme-accent">查看更多</font>
  </a>
  {{else}}
  {{end}}
  {{end}}